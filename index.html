<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' https://cdn.jsdelivr.net; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; font-src https://fonts.gstatic.com; img-src 'self' data: blob:;">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“ˆ</text></svg>">
    <title>Financial Planner 2.0 / Feb 2026</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700;800&family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css?v=5">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <header>
        <div class="header-inner">
            <h1>Financial Planner <span class="version-tag">v2.0</span></h1>
            <div class="header-actions">
                <button type="button" class="tutorial-btn" id="tutorial-btn" aria-label="How to use this tool" title="How to use this tool">&#128214;</button>
                <button type="button" class="theme-toggle" id="theme-toggle" aria-label="Toggle dark mode">
                    <span class="theme-icon" id="theme-icon">&#9790;</span>
                </button>
            </div>
        </div>
    </header>
    <main class="main-wrapper">
        <section class="main-content">
            <section class="input-section glass-card">
                <form id="planner-form" autocomplete="off" novalidate>
                    <div class="inputs-top">
                        <div class="form-group">
                            <label for="age">Age</label>
                            <div class="input-with-unit">
                                <input type="number" id="age" value="44" min="18" max="100">
                                <span class="input-unit">years</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="inflation">Inflation Rate</label>
                            <div class="input-with-unit">
                                <input type="number" id="inflation" value="2.8" step="0.1" min="0" max="20">
                                <span class="input-unit">%/yr</span>
                            </div>
                        </div>
                    </div>

                    <div class="asset-categories">
                        <div class="section-header">
                            <h2>Assets</h2>
                            <button type="button" class="expenses-btn" id="expenses-btn" title="Add big expenses">&#10133; Expenses</button>
                        </div>
                        <div class="asset-grid" id="asset-grid">
                            <div class="asset-card" data-asset="stocks" data-color="#27ae60">
                                <div class="asset-card-header">
                                    <span class="asset-dot" style="background:#27ae60;"></span>
                                    <label for="stocks-amount">Stocks</label>
                                    <button type="button" class="zero-btn" data-zero="stocks" title="Set to zero">0</button>
                                    <button type="button" class="tips-btn" data-tips="stocks" title="Tips to grow Stocks">&#128161;</button>
                                </div>
                                <div class="asset-card-body">
                                    <div class="asset-input-group">
                                        <span class="input-prefix">$</span>
                                        <input type="text" id="stocks-amount" value="1000000" inputmode="numeric" placeholder="0">
                                    </div>
                                    <div class="arr-group">
                                        <label for="stocks-arr" class="arr-label">Return</label>
                                        <div class="arr-slider-row">
                                            <input type="range" id="stocks-arr-slider" min="-10" max="20" step="0.5" value="1" class="arr-slider" data-target="stocks-arr">
                                            <div class="arr-value-box">
                                                <input type="number" id="stocks-arr" value="1" step="0.1" min="-50" max="50">
                                                <span class="input-unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="asset-card" data-asset="cash" data-color="#3498db">
                                <div class="asset-card-header">
                                    <span class="asset-dot" style="background:#3498db;"></span>
                                    <label for="cash-amount">Cash / CD / Bonds</label>
                                    <button type="button" class="zero-btn" data-zero="cash" title="Set to zero">0</button>
                                    <button type="button" class="tips-btn" data-tips="cash" title="Tips to grow Cash/CD/Bonds">&#128161;</button>
                                </div>
                                <div class="asset-card-body">
                                    <div class="asset-input-group">
                                        <span class="input-prefix">$</span>
                                        <input type="text" id="cash-amount" value="300000" inputmode="numeric" placeholder="0">
                                    </div>
                                    <div class="arr-group">
                                        <label for="cash-arr" class="arr-label">Return</label>
                                        <div class="arr-slider-row">
                                            <input type="range" id="cash-arr-slider" min="-10" max="20" step="0.5" value="1" class="arr-slider" data-target="cash-arr">
                                            <div class="arr-value-box">
                                                <input type="number" id="cash-arr" value="1" step="0.1" min="-50" max="50">
                                                <span class="input-unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="asset-card" data-asset="retirement" data-color="#e67e22">
                                <div class="asset-card-header">
                                    <span class="asset-dot" style="background:#e67e22;"></span>
                                    <label for="retirement-amount">Retirement</label>
                                    <button type="button" class="zero-btn" data-zero="retirement" title="Set to zero">0</button>
                                    <button type="button" class="tips-btn" data-tips="retirement" title="Tips to grow Retirement">&#128161;</button>
                                </div>
                                <div class="asset-card-body">
                                    <div class="asset-input-group">
                                        <span class="input-prefix">$</span>
                                        <input type="text" id="retirement-amount" value="1000000" inputmode="numeric" placeholder="0">
                                    </div>
                                    <div class="arr-group">
                                        <label for="retirement-arr" class="arr-label">Return</label>
                                        <div class="arr-slider-row">
                                            <input type="range" id="retirement-arr-slider" min="-10" max="20" step="0.5" value="1" class="arr-slider" data-target="retirement-arr">
                                            <div class="arr-value-box">
                                                <input type="number" id="retirement-arr" value="1" step="0.1" min="-50" max="50">
                                                <span class="input-unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="asset-card" data-asset="insurance" data-color="#9b59b6">
                                <div class="asset-card-header">
                                    <span class="asset-dot" style="background:#9b59b6;"></span>
                                    <label for="insurance-amount">Insurance</label>
                                    <button type="button" class="zero-btn" data-zero="insurance" title="Set to zero">0</button>
                                    <button type="button" class="tips-btn" data-tips="insurance" title="Tips to grow Insurance">&#128161;</button>
                                </div>
                                <div class="asset-card-body">
                                    <div class="asset-input-group">
                                        <span class="input-prefix">$</span>
                                        <input type="text" id="insurance-amount" value="100000" inputmode="numeric" placeholder="0">
                                    </div>
                                    <div class="arr-group">
                                        <label for="insurance-arr" class="arr-label">Return</label>
                                        <div class="arr-slider-row">
                                            <input type="range" id="insurance-arr-slider" min="-10" max="20" step="0.5" value="1" class="arr-slider" data-target="insurance-arr">
                                            <div class="arr-value-box">
                                                <input type="number" id="insurance-arr" value="1" step="0.1" min="-50" max="50">
                                                <span class="input-unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="asset-card" data-asset="realestate" data-color="#e74c3c">
                                <div class="asset-card-header">
                                    <span class="asset-dot" style="background:#e74c3c;"></span>
                                    <label for="realestate-amount">Real Estate</label>
                                    <button type="button" class="zero-btn" data-zero="realestate" title="Set to zero">0</button>
                                    <button type="button" class="tips-btn" data-tips="realestate" title="Tips to grow Real Estate">&#128161;</button>
                                </div>
                                <div class="asset-card-body">
                                    <div class="asset-input-group">
                                        <span class="input-prefix">$</span>
                                        <input type="text" id="realestate-amount" value="1200000" inputmode="numeric" placeholder="0">
                                    </div>
                                    <div class="arr-group">
                                        <label for="realestate-arr" class="arr-label">Return</label>
                                        <div class="arr-slider-row">
                                            <input type="range" id="realestate-arr-slider" min="-10" max="20" step="0.5" value="1" class="arr-slider" data-target="realestate-arr">
                                            <div class="arr-value-box">
                                                <input type="number" id="realestate-arr" value="1" step="0.1" min="-50" max="50">
                                                <span class="input-unit">%</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="presets-row">
                        <span class="presets-label">Presets</span>
                        <div class="preset-pills">
                            <button type="button" class="preset-btn" id="conservative-btn">Conservative</button>
                            <button type="button" class="preset-btn" id="average-btn">Average</button>
                            <button type="button" class="preset-btn" id="aggressive-btn">Aggressive</button>
                        </div>
                    </div>
                    <div class="actions-row">
                        <button type="button" id="project-btn">
                            <span class="btn-text">Project Growth</span>
                            <span class="btn-icon">&#8594;</span>
                        </button>
                    </div>
                    <div class="actions-row">
                        <button type="button" id="project-no-expenses-btn" class="project-no-expenses-btn">
                            <span class="btn-text">Project Growth WITHOUT Big Expenses</span>
                            <span class="btn-icon">&#8594;</span>
                        </button>
                    </div>
                    <div class="monte-carlo-row">
                        <button type="button" class="monte-carlo-btn" id="monte-carlo-btn" title="Run Monte Carlo simulation">&#127922; Monte Carlo Simulation</button>
                    </div>
                    <div class="actions-row-secondary">
                        <button type="button" id="save-btn" title="Save to browser">Save</button>
                        <button type="button" id="load-btn" title="Load saved data">Load</button>
                        <button type="button" id="reset-btn">Reset</button>
                    </div>

                    <div class="total-assets-row">
                        <div class="total-label">CURRENT TOTAL NET WORTH</div>
                        <div class="total-value" id="total-assets">$0</div>
                    </div>


                    <div class="asset-breakdown" id="asset-breakdown" style="display: none;">
                        <div class="breakdown-bars" id="breakdown-bars"></div>
                        <div class="breakdown-legend" id="breakdown-legend"></div>
                    </div>
                </form>
            </section>

            <section class="chart-section glass-card">
                <div class="level-up-banner" id="level-up-banner" style="display:none;">
                    <span class="level-up-text"><span class="milestone-arrow">&#8593;</span> Growth Milestone</span>
                </div>

                <div id="income-display" class="income-display" style="display: none;">
                    <strong>Hover on chart for income at each point</strong>
                    <div class="income-value-row">
                        <span class="income-label">Annual Income:</span>
                        <span class="income-amount" id="annual-income">$0</span>
                    </div>
                    <div class="info-tooltip">Based on safe withdrawal rate</div>
                </div>

                <div class="chart-placeholder" id="chart-placeholder">
                    <div class="placeholder-icon">&#128200;</div>
                    <div class="placeholder-text">Enter your assets and click <strong>Project Growth</strong> to begin</div>
                </div>

                <div class="chart-skeleton" id="chart-skeleton" style="display: none;">
                    <div class="skeleton-bar"></div>
                    <div class="skeleton-bar"></div>
                    <div class="skeleton-bar"></div>
                    <div class="skeleton-bar"></div>
                    <div class="skeleton-bar"></div>
                    <div class="skeleton-bar"></div>
                </div>

                <canvas id="projectionChart" style="display: none;"></canvas>

                <div class="summary-cards" id="summary-cards" style="display: none;">
                    <div class="summary-card card-income">
                        <div class="summary-label">ANNUAL INCOME (<span id="withdrawal-rate-display">4</span>%)</div>
                        <div class="summary-value" id="summary-income">$0</div>
                        <div class="summary-sub">
                            <input type="number" id="withdrawal-rate" value="4" min="1" max="10" step="0.5" class="withdrawal-rate-input"> <span class="input-unit">% rate</span>
                        </div>
                    </div>
                    <div class="summary-card card-total">
                        <div class="summary-label">REAL VALUE</div>
                        <div class="summary-value" id="summary-total">$0</div>
                        <div class="summary-sub" id="summary-years"></div>
                    </div>
                    <div class="summary-card card-real">
                        <div class="summary-label">NOMINAL VALUE</div>
                        <div class="summary-value" id="summary-real">$0</div>
                        <div class="summary-sub" id="summary-real-sub">Future account balance</div>
                    </div>
                </div>

                <div class="chart-actions" id="chart-actions" style="display: none;">
                    <button type="button" id="download-btn">Download PNG</button>
                    <button type="button" id="compare-btn">Compare Scenario</button>
                </div>
            </section>
        </section>
    </main>
    <div class="toast" id="toast"></div>
    <div class="coin-particles" id="coin-particles"></div>

    <!-- Tips Modal -->
    <div class="tips-modal-overlay" id="tips-modal-overlay">
        <div class="tips-modal" id="tips-modal">
            <div class="tips-modal-header">
                <span class="tips-modal-icon" id="tips-modal-icon"></span>
                <h3 class="tips-modal-title" id="tips-modal-title"></h3>
                <button type="button" class="tips-modal-close" id="tips-modal-close">&times;</button>
            </div>
            <div class="tips-modal-body" id="tips-modal-body"></div>
            <div class="tips-modal-footer">
                <span class="tips-disclaimer">For informational purposes only. Not financial advice.</span>
            </div>
        </div>
    </div>
    <!-- Expenses Modal -->
    <div class="expenses-modal-overlay" id="expenses-modal-overlay">
        <div class="expenses-modal" id="expenses-modal">
            <div class="expenses-modal-header">
                <h3 class="expenses-modal-title">Big Expenses</h3>
                <button type="button" class="expenses-modal-close" id="expenses-modal-close">&times;</button>
            </div>
            <div class="expenses-modal-body" id="expenses-modal-body">
                <p class="expenses-desc">Add up to 5 major upcoming expenses. These will be subtracted from your projected assets at the specified year.</p>
                <div class="expenses-list" id="expenses-list"></div>
                <button type="button" class="expenses-add-btn" id="expenses-add-btn">&#10133; Add Expense</button>
            </div>
            <div class="expenses-modal-footer">
                <span class="expenses-count" id="expenses-count">0 / 5 expenses</span>
                <button type="button" class="expenses-done-btn" id="expenses-done-btn">Done</button>
            </div>
        </div>
    </div>
    <!-- Tutorial Modal -->
    <div class="tutorial-modal-overlay" id="tutorial-modal-overlay">
        <div class="tutorial-modal">
            <div class="tutorial-modal-header">
                <h3 class="tutorial-modal-title">&#128214; How to Use</h3>
                <button type="button" class="tutorial-modal-close" id="tutorial-modal-close">&times;</button>
            </div>
            <div class="tutorial-modal-body">
                <div class="tutorial-step">
                    <span class="tutorial-num">1</span>
                    <div><strong>Enter your assets</strong> &mdash; Fill in dollar amounts and expected annual returns for each of the 5 categories (Stocks, Cash/Bonds, Retirement, Insurance, Real Estate).</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">2</span>
                    <div><strong>Use presets</strong> &mdash; Pick Conservative, Average, or Aggressive to auto-fill typical return rates.</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">3</span>
                    <div><strong>Add big expenses</strong> &mdash; Click the red Expenses button to add major future costs (college, house, car) and when they'll happen.</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">4</span>
                    <div><strong>Project Growth</strong> &mdash; See your wealth grow over 25 years on the chart. Red markers show where big expenses hit.</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">5</span>
                    <div><strong>Monte Carlo</strong> &mdash; Run 2,000 randomized simulations to see best, median, and worst case scenarios.</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">6</span>
                    <div><strong>Real vs Nominal</strong> &mdash; Real Value is your purchasing power (inflation-adjusted). Nominal Value is the raw future dollar amount.</div>
                </div>
                <div class="tutorial-step">
                    <span class="tutorial-num">7</span>
                    <div><strong>Save &amp; Load</strong> &mdash; Save your plan to your browser and load it later. Use Reset to start fresh.</div>
                </div>
            </div>
        </div>
    </div>
    <script src="script.js?v=6"></script>
</body>
</html>
